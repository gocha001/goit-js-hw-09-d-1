{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["let formData = { email: '', message: '' };\nconst STORAGE_KEY = 'feedback-form-data';\n\nconst form = document.querySelector('.feedback-form');\n\npopulateForm();\n\nform.addEventListener('submit', handleFormSubmit);\nform.addEventListener('input', handleFormInput);\n\nfunction populateForm() {\n  try {\n    formData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n\n  if (!formData) {\n    return;\n  }\n\n  for (const key in formData) {\n    form.elements[key].value = formData[key];\n  }\n}\n\nfunction handleFormInput(event) {\n  const value = event.target.value;\n  const key = event.target.name;\n  console.log(key, value);\n\n  try {\n    formData = JSON.parse(localStorage.getItem(STORAGE_KEY));\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n\n  if (formData) {\n    formData[key] = value;\n  } else {\n    formData = {\n      [key]: value,\n    };\n  }\n\n  try {\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(formData));\n  } catch (err) {\n    console.log(err);\n    return;\n  }\n}\n\nfunction handleFormSubmit(event) {\n  event.preventDefault();\n\n  const elements = event.currentTarget.elements;\n  const info = {\n    email: elements.email.value.trim(),\n    message: elements.message.value.trim(),\n  };\n\n  if (info.email == 0 || info.message == 0) {\n    alert(`Fill please all fields`);\n    return;\n  }\n\n  console.log(info);\n\n  localStorage.removeItem(STORAGE_KEY);\n\n  event.currentTarget.reset();\n}\n"],"names":["formData","STORAGE_KEY","form","populateForm","handleFormSubmit","handleFormInput","err","key","event","value","elements","info"],"mappings":"oDAAA,IAAIA,EAAW,CAAE,MAAO,GAAI,QAAS,EAAE,EACvC,MAAMC,EAAc,qBAEdC,EAAO,SAAS,cAAc,gBAAgB,EAEpDC,IAEAD,EAAK,iBAAiB,SAAUE,CAAgB,EAChDF,EAAK,iBAAiB,QAASG,CAAe,EAE9C,SAASF,GAAe,CACtB,GAAI,CACFH,EAAW,KAAK,MAAM,aAAa,QAAQC,CAAW,CAAC,CACxD,OAAQK,EAAK,CACZ,QAAQ,IAAIA,CAAG,EACf,MACD,CAED,GAAKN,EAIL,UAAWO,KAAOP,EAChBE,EAAK,SAASK,CAAG,EAAE,MAAQP,EAASO,CAAG,CAE3C,CAEA,SAASF,EAAgBG,EAAO,CAC9B,MAAMC,EAAQD,EAAM,OAAO,MACrBD,EAAMC,EAAM,OAAO,KACzB,QAAQ,IAAID,EAAKE,CAAK,EAEtB,GAAI,CACFT,EAAW,KAAK,MAAM,aAAa,QAAQC,CAAW,CAAC,CACxD,OAAQK,EAAK,CACZ,QAAQ,IAAIA,CAAG,EACf,MACD,CAEGN,EACFA,EAASO,CAAG,EAAIE,EAEhBT,EAAW,CACT,CAACO,CAAG,EAAGE,CACb,EAGE,GAAI,CACF,aAAa,QAAQR,EAAa,KAAK,UAAUD,CAAQ,CAAC,CAC3D,OAAQM,EAAK,CACZ,QAAQ,IAAIA,CAAG,EACf,MACD,CACH,CAEA,SAASF,EAAiBI,EAAO,CAC/BA,EAAM,eAAc,EAEpB,MAAME,EAAWF,EAAM,cAAc,SAC/BG,EAAO,CACX,MAAOD,EAAS,MAAM,MAAM,KAAM,EAClC,QAASA,EAAS,QAAQ,MAAM,KAAM,CAC1C,EAEE,GAAIC,EAAK,OAAS,GAAKA,EAAK,SAAW,EAAG,CACxC,MAAM,wBAAwB,EAC9B,MACD,CAED,QAAQ,IAAIA,CAAI,EAEhB,aAAa,WAAWV,CAAW,EAEnCO,EAAM,cAAc,OACtB"}